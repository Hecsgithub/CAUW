webpackJsonp([8],{"32bD":function(t,e){},"Aon/":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=s("VU/8")({name:"App"},r,!1,function(t){s("uC79")},null,null).exports,o=s("/ocq"),i=s("lO7g"),l=s("dAjm"),u=s("xJsL");a.default.use(o.a);var c=new o.a({routes:[{path:"/",name:"登录",hidden:!0,component:u.default},{path:"/home",name:"",component:i.default,hidden:!0,redirect:"/index",children:[{path:"/index",name:"主页",component:l.default,meta:{keepAlive:!0}}]}]}),d=s("zL8q"),p=s.n(d),g=(s("tvR6"),s("mtWM")),v=s.n(g);function m(t){var e=new Date(t),s=e.getFullYear(),a=e.getMonth()+1,r=e.getDate();return a<10&&(a="0"+a),r<10&&(r="0"+r),s+"-"+a+"-"+r}a.default.filter("formatDate",m),a.default.prototype.formatDate=m,a.default.filter("formatDateTime",function(t){var e=new Date(t),s=e.getFullYear(),a=e.getMonth()+1,r=e.getDate(),n=e.getHours(),o=e.getMinutes();return a<10&&(a="0"+a),r<10&&(r="0"+r),s+"-"+a+"-"+r+" "+n+":"+o});var f=s("mvHQ"),h=s.n(f),_=s("NYxO");a.default.use(_.a);var w=new _.a.Store({state:{user:{id:null==window.localStorage.getItem("user")?"未登录":JSON.parse(window.localStorage.getItem("user")).id,username:null==window.localStorage.getItem("user")?"":JSON.parse(window.localStorage.getItem("user")).username,password:null==window.localStorage.getItem("user")?"":JSON.parse(window.localStorage.getItem("user")).password,type:null==window.localStorage.getItem("user")?"":JSON.parse(window.localStorage.getItem("user")).type,roles:null==window.localStorage.getItem("user")?"":JSON.parse(window.localStorage.getItem("user")).roles},routes:[]},mutations:{initMenu:function(t,e){t.routes=e},login:function(t,e){t.user=e,window.localStorage.setItem("user",h()(e))},logout:function(t){window.localStorage.removeItem("user"),t.routes=[]}},actions:{}});v.a.interceptors.request.use(function(t){return t},function(t){d.Message.error({message:"请求超时!"})}),v.a.interceptors.response.use(function(t){if(!t.status||200!=t.status||500!=t.data.status)return t.data.msg&&("teacher"===t.data.msg||t.data.msg,d.Message.success({message:t.data.msg})),t;d.Message.error({message:t.data.msg})},function(t){504==t.response.status||404==t.response.status?d.Message.error({message:"服务器被吃了⊙﹏⊙"}):403==t.response.status?d.Message.error({message:"权限不足,请联系管理员!"}):401==t.response.status?d.Message.error({message:t.response.data.msg}):t.response.data.msg&&d.Message.error({message:t.response.data.msg})});var b=function(t){return v()({method:"get",url:""+t})},y=function t(e){var a=[];return e.forEach(function(e){var r=e.path,n=e.component,o=e.name,i=e.meta,l=e.iconCls,u=e.children;u&&u instanceof Array&&(u=t(u));var c={path:r,component:function(t){n.startsWith("Home")?Promise.all([s.e(0),s.e(1)]).then(function(){var e=[s("2eoi")("./"+n+".vue")];t.apply(null,e)}.bind(this)).catch(s.oe):n.startsWith("Sys")?s.e(3).then(function(){var e=[s("LJAE")("./"+n+".vue")];t.apply(null,e)}.bind(this)).catch(s.oe):n.startsWith("Tea")?Promise.all([s.e(0),s.e(2)]).then(function(){var e=[s("Vnvz")("./"+n+".vue")];t.apply(null,e)}.bind(this)).catch(s.oe):n.startsWith("Dor")?s.e(5).then(function(){var e=[s("uSqL")("./"+n+".vue")];t.apply(null,e)}.bind(this)).catch(s.oe):n.startsWith("Stu")?s.e(4).then(function(){var e=[s("mW9Y")("./"+n+".vue")];t.apply(null,e)}.bind(this)).catch(s.oe):n.startsWith("Hea")&&Promise.all([s.e(0),s.e(6)]).then(function(){var e=[s("7Gcb")("./"+n+".vue")];t.apply(null,e)}.bind(this)).catch(s.oe)},name:o,iconCls:l,meta:i,children:u};a.push(c)}),a},C=(s("Aon/"),s("ARhN")),x=s.n(C);a.default.prototype.$echarts=x.a,a.default.use(p.a),a.default.config.productionTip=!1,a.default.prototype.axios=v.a,a.default.prototype.getRequest=b,a.default.prototype.postRequest=function(t,e){return v()({method:"post",url:""+t,data:e,transformRequest:[function(t){var e="";for(var s in t)e+=encodeURIComponent(s)+"="+encodeURIComponent(t[s])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})},a.default.prototype.deleteRequest=function(t){return v()({method:"delete",url:""+t})},a.default.prototype.putRequest=function(t,e){return v()({method:"put",url:""+t,data:e,transformRequest:[function(t){var e="";for(var s in t)e+=encodeURIComponent(s)+"="+encodeURIComponent(t[s])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})},a.default.prototype.uploadFileRequest=function(t,e){return v()({method:"post",url:""+t,data:e,headers:{"Content-Type":"multipart/form-data"}})},a.default.prototype.isNotNullORBlank=function(){for(var t=arguments.length,e=Array(t),s=0;s<t;s++)e[s]=arguments[s];for(var a=0;a<e.length;a++){var r=e[a];if(null==r||""==r||void 0==r)return d.Message.warning({message:"数据不能为空!"}),!1}return!0},c.beforeEach(function(t,e,s){var a,r;"Login"!=t.name?"未登录"==w.state.user.name?t.meta.requireAuth||null==t.name?s({path:"/",query:{redirect:t.path}}):s():(a=c,(r=w).state.routes.length>0||b("/getloginmenu").then(function(t){if(t&&200==t.status){var e=y(t.data);a.addRoutes(e),r.commit("initMenu",e)}}),s()):s()}),new a.default({el:"#app",router:c,store:w,components:{App:n},template:"<App/>"})},dAjm:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-row",[e("el-col",{attrs:{span:12}},[e("div",{attrs:{id:"bt"}},[this._v("欢迎来到广西大学行健文理学院迎新生系统")])]),this._v(" "),e("el-col",{attrs:{span:12}},[e("img",{attrs:{src:"https://gss1.bdstatic.com/-vo3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike92%2C5%2C5%2C92%2C30/sign=8e7abddea48b87d6444fa34d6661435d/7dd98d1001e939011c5982d17eec54e737d19681.jpg"}})])],1)],1)},staticRenderFns:[]};var r=s("VU/8")({name:"index"},a,!1,function(t){s("ggx1")},"data-v-e9b0c28a",null);e.default=r.exports},ggx1:function(t,e){},lO7g:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("zL8q");var a={mounted:function(){this.getuser()},components:{},methods:{getuser:function(){var t=this;this.postRequest("/selectuserinfobyid",{}).then(function(e){if(e&&200==e.status){var s=e.data;"新生"==s.msg?(t.usertype="新生",t.student=s.obj):(t.usertype=s.msg,t.teacher=s.obj),console.info(s.obj)}})},handleCommand:function(t){var e=this;"logout"==t?this.$confirm("注销登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.getRequest("/logout"),e.$store.commit("logout"),e.$router.replace({path:"/"})}).catch(function(){e.$message({type:"info",message:"取消"})}):"showmy"==t&&(e.drawer=!0)}},data:function(){return{type:"rtl",drawer:!1,usertype:"",student:{id:"",name:"",sex:"",birthday:"",phone:"",idNumber:"",email:"",parentPhone:"",adress:"",major:"",state:""},teacher:{id:"",teacherId:"",password:"",name:"",sex:"",phone:"",email:"",adress:""}}},computed:{user:function(){return this.$store.state.user},routes:function(){return this.$store.state.routes}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-container",{staticClass:"home-container"},[s("el-header",{staticClass:"home-header"},[s("span",{staticClass:"home_title",staticStyle:{"font-size":"30px"}},[t._v("行健迎新系统")]),t._v(" "),s("div",{staticStyle:{display:"flex","align-items":"center","margin-right":"7px"}},[s("el-badge",{staticStyle:{"margin-right":"30px"}},[s("i",{staticClass:"fa fa-bell-o",staticStyle:{cursor:"pointer"}})]),t._v(" "),s("el-dropdown",{on:{command:t.handleCommand}},[s("span",{staticClass:"el-dropdown-link home_userinfo",staticStyle:{display:"flex","align-items":"center","font-size":"18px"}},[t._v("\n  "+t._s(t.usertype)+":"+t._s(t.student.name)+t._s(t.teacher.name)+"\n")]),t._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"showmy",divided:""}},[t._v("个人中心")]),t._v(" "),s("el-dropdown-item",{attrs:{command:"logout",divided:""}},[t._v("注销")])],1)],1)],1),t._v(" "),s("el-drawer",{attrs:{title:"个人信息",visible:t.drawer,direction:t.type,"close-on-press-escape":!0},on:{"update:visible":function(e){t.drawer=e}}},["新生"!==t.usertype?s("div",[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("姓名")])]),t._v(" "),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.teacher.name))])])],1),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("职工号")])]),t._v(" "),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.teacher.teacherId))])])],1),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("密码")])]),t._v(" "),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.teacher.password))])])],1),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("性别")])]),t._v(" "),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.teacher.sex))])])],1),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("手机号码")])]),t._v(" "),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.teacher.phone))])])],1),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("邮箱")])]),t._v(" "),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.teacher.email))])])],1),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("地址")])]),t._v(" "),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.teacher.adress))])])],1)],1):s("div",[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("姓名")])]),t._v(" "),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.student.name))])])],1),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("身份证号")])]),t._v(" "),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.user.username))])])],1),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("密码")])]),t._v(" "),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.student.name))])])],1),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("性别")])]),t._v(" "),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.student.sex))])])],1),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("手机号码")])]),t._v(" "),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.student.phone))])])],1),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("邮箱")])]),t._v(" "),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.student.email))])])],1),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("地址")])]),t._v(" "),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.student.adress))])])],1),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[t._v("专业")])]),t._v(" "),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.student.major))])])],1)],1)])],1),t._v(" "),s("el-container",[s("el-aside",{staticClass:"home-aside",attrs:{width:"180px"}},[s("div",{staticStyle:{display:"flex","justify-content":"flex-start",width:"180px","text-align":"left"}},[s("el-menu",{staticStyle:{background:"#ececec",width:"180px"},attrs:{"unique-opened":"",router:""}},[t._l(this.routes,function(e,a){return e.hidden?t._e():[s("el-submenu",{key:a,attrs:{index:a+""}},[s("template",{slot:"title"},[s("i",{class:e.iconCls,staticStyle:{color:"#20a0ff",width:"14px"}}),t._v(" "),s("span",{staticStyle:{"font-size":"18px"},attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])]),t._v(" "),t._l(e.children,function(e){return s("el-menu-item",{key:e.path,staticStyle:{"padding-left":"30px","padding-right":"0px","margin-left":"0px",width:"170px","text-align":"left","font-size":"18px"},attrs:{width:"180px",index:e.path}},[t._v(t._s(e.name)+"\n                ")])})],2)]})],2)],1)]),t._v(" "),s("el-main",[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{staticStyle:{"font-size":"18px"},attrs:{to:{path:"/home"}}},[t._v("首页")]),t._v(" "),s("el-breadcrumb-item",{staticStyle:{"font-size":"18px"},domProps:{textContent:t._s(this.$router.currentRoute.name)}})],1),t._v(" "),s("keep-alive",[this.$route.meta.keepAlive?s("router-view"):t._e()],1),t._v(" "),this.$route.meta.keepAlive?t._e():s("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var n=s("VU/8")(a,r,!1,function(t){s("vWui")},null,null);e.default=n.exports},tvR6:function(t,e){},uC79:function(t,e){},vWui:function(t,e){},xJsL:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("RRo+"),r=s.n(a),n={data:function(){return{checked:!0,loginForm:{name:"",pass:""},rules:{name:[{validator:function(t,e,s){if(!e)return s(new Error("新生请输入身份证号，教职工请输入工号"));setTimeout(function(){r()(e)?s():s(new Error("请输入数字值"))},1e3)},trigger:["blur","change"]}],pass:[{validator:function(t,e,s){""===e?s(new Error("新生请输入身份证号后六位")):s()},trigger:["blur","change"]}]},loading:!1}},methods:{submitClick:function(){var t=this;this.postRequest("/login",{username:this.loginForm.name,password:this.loginForm.pass}).then(function(e){if(t.loading=!1,e&&200==e.status){var s=e.data;t.$store.commit("login",s.obj);var a=t.$route.query.redirect;t.$router.replace({path:"/"==a||void 0==a?"/home":a})}})}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"loginForm",staticClass:"login-container",attrs:{rules:t.rules,model:t.loginForm,"label-position":"left","label-width":"0px"}},[s("h1",{staticClass:"login_title"},[t._v("系统登录")]),t._v(" "),s("el-form-item",{attrs:{prop:"name"}},[s("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:t.loginForm.name,callback:function(e){t.$set(t.loginForm,"name",t._n(e))},expression:"loginForm.name"}})],1),t._v(" "),s("el-form-item",{attrs:{prop:"pass"}},[s("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:t.loginForm.pass,callback:function(e){t.$set(t.loginForm,"pass",e)},expression:"loginForm.pass"}})],1),t._v(" "),s("el-form-item",{staticStyle:{width:"100%"}},[s("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.submitClick(e)}}},[t._v("登录")])],1)],1)},staticRenderFns:[]};var i=s("VU/8")(n,o,!1,function(t){s("32bD")},null,null);e.default=i.exports}},["NHnr"]);
//# sourceMappingURL=app.8f68c2684e4110411a72.js.map
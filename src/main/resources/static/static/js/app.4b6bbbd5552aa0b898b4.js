webpackJsonp([7],{"1aKb":function(t,e){},Jjk8:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App"},n,!1,function(t){a("uC79")},null,null).exports,o=a("/ocq"),i=a("lO7g"),l=a("dAjm"),u=a("cKLF"),c=a("xJsL");s.default.use(o.a);var d=new o.a({routes:[{path:"/",name:"登录",hidden:!0,component:c.default},{path:"/testb",name:"测试成功",hidden:!0,component:u.default},{path:"/home",name:"",component:i.default,hidden:!0,redirect:"/index",children:[{path:"/index",name:"主页",component:l.default,meta:{keepAlive:!0}}]}]}),p=a("zL8q"),m=a.n(p),v=(a("tvR6"),a("mtWM")),g=a.n(v);function f(t){var e=new Date(t),a=e.getFullYear(),s=e.getMonth()+1,n=e.getDate();return s<10&&(s="0"+s),n<10&&(n="0"+n),a+"-"+s+"-"+n}s.default.filter("formatDate",f),s.default.prototype.formatDate=f,s.default.filter("formatDateTime",function(t){var e=new Date(t),a=e.getFullYear(),s=e.getMonth()+1,n=e.getDate(),r=e.getHours(),o=e.getMinutes();return s<10&&(s="0"+s),n<10&&(n="0"+n),a+"-"+s+"-"+n+" "+r+":"+o});var h=a("mvHQ"),_=a.n(h),w=a("NYxO");s.default.use(w.a);var b=new w.a.Store({state:{user:{id:null==window.localStorage.getItem("user")?"未登录":JSON.parse(window.localStorage.getItem("user")).id,username:null==window.localStorage.getItem("user")?"":JSON.parse(window.localStorage.getItem("user")).username,password:null==window.localStorage.getItem("user")?"":JSON.parse(window.localStorage.getItem("user")).password,type:null==window.localStorage.getItem("user")?"":JSON.parse(window.localStorage.getItem("user")).type,roles:null==window.localStorage.getItem("user")?"":JSON.parse(window.localStorage.getItem("user")).roles},routes:[]},mutations:{initMenu:function(t,e){t.routes=e},login:function(t,e){t.user=e,window.localStorage.setItem("user",_()(e))},logout:function(t){window.localStorage.removeItem("user"),t.routes=[]}},actions:{}});g.a.interceptors.request.use(function(t){return t},function(t){p.Message.error({message:"请求超时!"})}),g.a.interceptors.response.use(function(t){if(!t.status||200!=t.status||500!=t.data.status)return t.data.msg&&("teacher"===t.data.msg||t.data.msg,p.Message.success({message:t.data.msg})),t;p.Message.error({message:t.data.msg})},function(t){504==t.response.status||404==t.response.status?p.Message.error({message:"服务器被吃了⊙﹏⊙"}):403==t.response.status?p.Message.error({message:"权限不足,请联系管理员!"}):401==t.response.status?p.Message.error({message:t.response.data.msg}):t.response.data.msg?p.Message.error({message:t.response.data.msg}):p.Message.error({message:"未知错误!"})});var y=function(t){return g()({method:"get",url:""+t})},C=function t(e){var s=[];return e.forEach(function(e){var n=e.path,r=e.component,o=e.name,i=e.meta,l=e.iconCls,u=e.children;u&&u instanceof Array&&(u=t(u));var c={path:n,component:function(t){r.startsWith("Home")?a.e(0).then(function(){var e=[a("2eoi")("./"+r+".vue")];t.apply(null,e)}.bind(this)).catch(a.oe):r.startsWith("Sys")?a.e(1).then(function(){var e=[a("LJAE")("./"+r+".vue")];t.apply(null,e)}.bind(this)).catch(a.oe):r.startsWith("Tea")?a.e(2).then(function(){var e=[a("Vnvz")("./"+r+".vue")];t.apply(null,e)}.bind(this)).catch(a.oe):r.startsWith("Dor")?a.e(4).then(function(){var e=[a("uSqL")("./"+r+".vue")];t.apply(null,e)}.bind(this)).catch(a.oe):r.startsWith("Stu")?a.e(3).then(function(){var e=[a("mW9Y")("./"+r+".vue")];t.apply(null,e)}.bind(this)).catch(a.oe):r.startsWith("Hea")&&a.e(5).then(function(){var e=[a("7Gcb")("./"+r+".vue")];t.apply(null,e)}.bind(this)).catch(a.oe)},name:o,iconCls:l,meta:i,children:u};s.push(c)}),s};function x(){var t=document.documentElement.clientWidth||document.body.clientWidth;document.getElementsByTagName("html")[0].style.fontSize=t/20+"px"}s.default.use(m.a),s.default.config.productionTip=!1,s.default.prototype.axios=g.a,s.default.prototype.getRequest=y,s.default.prototype.postRequest=function(t,e){return g()({method:"post",url:""+t,data:e,transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})},s.default.prototype.deleteRequest=function(t){return g()({method:"delete",url:""+t})},s.default.prototype.putRequest=function(t,e){return g()({method:"put",url:""+t,data:e,transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})},s.default.prototype.uploadFileRequest=function(t,e){return g()({method:"post",url:""+t,data:e,headers:{"Content-Type":"multipart/form-data"}})},s.default.prototype.isNotNullORBlank=function(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];for(var s=0;s<e.length;s++){var n=e[s];if(null==n||""==n||void 0==n)return p.Message.warning({message:"数据不能为空!"}),!1}return!0},d.beforeEach(function(t,e,a){var s,n;"Login"!=t.name?"未登录"==b.state.user.name?t.meta.requireAuth||null==t.name?a({path:"/",query:{redirect:t.path}}):a():(s=d,(n=b).state.routes.length>0||y("/getloginmenu").then(function(t){if(t&&200==t.status){var e=C(t.data);s.addRoutes(e),n.commit("initMenu",e)}}),a()):a()}),window.onresize=x,x(),new s.default({el:"#app",router:d,store:b,components:{App:r},template:"<App/>"})},XVTw:function(t,e){},bYhS:function(t,e){},cKLF:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  OK!!\n")])},staticRenderFns:[]};var n=a("VU/8")({name:"A",created:function(){},mounted:function(){},methods:{},data:function(){return{}}},s,!1,function(t){a("XVTw")},"data-v-040775fe",null);e.default=n.exports},dAjm:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-link",{attrs:{underline:!1}},[this._v("欢迎来到广西大学行健文理学院迎新生系统")]),this._v(" "),e("img",{attrs:{src:"https://gss1.bdstatic.com/-vo3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike92%2C5%2C5%2C92%2C30/sign=8e7abddea48b87d6444fa34d6661435d/7dd98d1001e939011c5982d17eec54e737d19681.jpg"}})],1)},staticRenderFns:[]};var n=a("VU/8")({name:"index"},s,!1,function(t){a("bYhS")},"data-v-2519267c",null);e.default=n.exports},lO7g:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("zL8q");var s={mounted:function(){this.getuser()},components:{},methods:{getuser:function(){var t=this;this.postRequest("/selectuserinfobyid",{}).then(function(e){if(e&&200==e.status){var a=e.data;"新生"==a.msg?(t.usertype="新生",t.student=a.obj):(t.usertype=a.msg,t.teacher=a.obj),console.info(a.obj)}})},handleCommand:function(t){var e=this;"logout"==t?this.$confirm("注销登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.getRequest("/logout"),e.$store.commit("logout"),e.$router.replace({path:"/"})}).catch(function(){e.$message({type:"info",message:"取消"})}):"showmy"==t&&(e.drawer=!0)}},data:function(){return{type:"rtl",drawer:!1,usertype:"",student:{id:"",name:"",sex:"",birthday:"",phone:"",idNumber:"",email:"",parentPhone:"",adress:"",major:"",state:""},teacher:{id:"",teacherId:"",password:"",name:"",sex:"",phone:"",email:"",adress:""}}},computed:{user:function(){return this.$store.state.user},routes:function(){return this.$store.state.routes}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-container",{staticClass:"home-container"},[a("el-header",{staticClass:"home-header"},[a("span",{staticClass:"home_title"},[t._v("行健迎新系统")]),t._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center","margin-right":"7px"}},[a("el-badge",{staticStyle:{"margin-right":"30px"}},[a("i",{staticClass:"fa fa-bell-o",staticStyle:{cursor:"pointer"}})]),t._v(" "),a("el-dropdown",{on:{command:t.handleCommand}},[a("span",{staticClass:"el-dropdown-link home_userinfo",staticStyle:{display:"flex","align-items":"center"}},[t._v("\n  "+t._s(t.usertype)+":"+t._s(t.student.name)+t._s(t.teacher.name)+"\n")]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"showmy",divided:""}},[t._v("个人中心")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"logout",divided:""}},[t._v("注销")])],1)],1)],1),t._v(" "),a("el-drawer",{attrs:{title:"个人信息",visible:t.drawer,direction:t.type,"close-on-press-escape":!0},on:{"update:visible":function(e){t.drawer=e}}},["新生"!==t.usertype?a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("姓名")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.teacher.name))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("职工号")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.teacher.teacherId))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("密码")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.teacher.password))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("性别")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.teacher.sex))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("手机号码")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.teacher.phone))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("邮箱")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.teacher.email))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("地址")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.teacher.adress))])])],1)],1):a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("姓名")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.student.name))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("身份证号")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.user.username))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("密码")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.student.name))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("性别")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.student.sex))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("手机号码")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.student.phone))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("邮箱")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.student.email))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("地址")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.student.adress))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("专业")])]),t._v(" "),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple"},[t._v(t._s(t.student.major))])])],1)],1)])],1),t._v(" "),a("el-container",[a("el-aside",{staticClass:"home-aside",attrs:{width:"180px"}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start",width:"180px","text-align":"left"}},[a("el-menu",{staticStyle:{background:"#ececec",width:"180px"},attrs:{"unique-opened":"",router:""}},[t._l(this.routes,function(e,s){return e.hidden?t._e():[a("el-submenu",{key:s,attrs:{index:s+""}},[a("template",{slot:"title"},[a("i",{class:e.iconCls,staticStyle:{color:"#20a0ff",width:"14px"}}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])]),t._v(" "),t._l(e.children,function(e){return a("el-menu-item",{key:e.path,staticStyle:{"padding-left":"30px","padding-right":"0px","margin-left":"0px",width:"170px","text-align":"left"},attrs:{width:"180px",index:e.path}},[t._v(t._s(e.name)+"\n                ")])})],2)]})],2)],1)]),t._v(" "),a("el-main",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",{domProps:{textContent:t._s(this.$router.currentRoute.name)}})],1),t._v(" "),a("keep-alive",[this.$route.meta.keepAlive?a("router-view"):t._e()],1),t._v(" "),this.$route.meta.keepAlive?t._e():a("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var r=a("VU/8")(s,n,!1,function(t){a("1aKb")},null,null);e.default=r.exports},tvR6:function(t,e){},uC79:function(t,e){},xJsL:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("RRo+"),n=a.n(s),r={data:function(){return{checked:!0,loginForm:{name:"",pass:"0000"},rules:{name:[{validator:function(t,e,a){if(!e)return a(new Error("新生请输入身份证号，教职工请输入工号"));setTimeout(function(){n()(e)?a():a(new Error("请输入数字值"))},1e3)},trigger:["blur","change"]}],pass:[{validator:function(t,e,a){""===e?a(new Error("新生请输入身份证号后六位")):a()},trigger:["blur","change"]}]},loading:!1}},methods:{submitClick:function(){var t=this;this.postRequest("/login",{username:this.loginForm.name,password:this.loginForm.pass}).then(function(e){if(t.loading=!1,e&&200==e.status){var a=e.data;t.$store.commit("login",a.obj);var s=t.$route.query.redirect;t.$router.replace({path:"/"==s||void 0==s?"/home":s})}})}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"loginForm",staticClass:"login-container",attrs:{rules:t.rules,model:t.loginForm,"label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"login_title"},[a("el-link",{attrs:{underline:!1}},[t._v("系统登录")])],1),t._v(" "),a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:t.loginForm.name,callback:function(e){t.$set(t.loginForm,"name",t._n(e))},expression:"loginForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"pass"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:t.loginForm.pass,callback:function(e){t.$set(t.loginForm,"pass",e)},expression:"loginForm.pass"}})],1),t._v(" "),a("el-checkbox",{staticClass:"login_remember",attrs:{"label-position":"left"},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("记住密码")]),t._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.submitClick(e)}}},[t._v("登录")])],1)],1)},staticRenderFns:[]};var i=a("VU/8")(r,o,!1,function(t){a("Jjk8")},null,null);e.default=i.exports}},["NHnr"]);
//# sourceMappingURL=app.4b6bbbd5552aa0b898b4.js.map